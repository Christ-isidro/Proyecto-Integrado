<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login - Rally de Asia</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">

</head>

<body>

    <div class="asia-bg d-flex flex-column align-items-center justify-content-center" style="min-height: 100vh;">
        <div class="container rounded shadow-lg p-4" style="background: rgba(255,255,255,0.97); max-width: 400px;">
            <h2 class="mb-4 fw-bold text-center asia-title">
                <span class="asia-icon me-2">游댐</span>
                Iniciar Sesi칩n en el Rally de Asia
            </h2>

            @if (errorMessage) {
            <div class="alert alert-danger alert-dismissible fade show" role="alert">
                {{ errorMessage }}
                <button type="button" class="btn-close" (click)="errorMessage = ''"></button>
            </div>
            }

            <form [formGroup]="form" (ngSubmit)="onSubmit()" class="w-100">
                <div class="mb-3">
                    <label class="form-label">Email</label>
                    <input type="email" 
                           class="form-control" 
                           formControlName="email" 
                           [class.is-invalid]="form.get('email')?.invalid && form.get('email')?.touched"
                           placeholder="tu@email.com"
                           required>
                </div>

                <div class="mb-3">
                    <label class="form-label">Contrase침a</label>
                    <input type="password" 
                           class="form-control" 
                           formControlName="password"
                           [class.is-invalid]="form.get('password')?.invalid && form.get('password')?.touched"
                           placeholder="Tu contrase침a"
                           required>
                </div>

                <div class="d-grid gap-2">
                    <button type="submit" 
                            class="btn btn-primary" 
                            [disabled]="form.invalid || isLoading">
                        @if (isLoading) {
                        <span class="spinner-border spinner-border-sm me-2" role="status" aria-hidden="true"></span>
                        Iniciando sesi칩n...
                        } @else {
                        <i class="bi bi-box-arrow-in-right me-2"></i>
                        Iniciar Sesi칩n
                        }
                    </button>

                    <button type="button" 
                            class="btn btn-outline-secondary" 
                            (click)="volver()"
                            [disabled]="isLoading">
                        <i class="bi bi-arrow-left me-2"></i>
                        Volver
                    </button>
                </div>
            </form>
        </div>
    </div>
</body>

</html>